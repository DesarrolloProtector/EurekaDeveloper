@model ModalHelp.Models.EditModal.Edit_Model
@using (Html.BeginForm("Index", "Home", FormMethod.Post, new { id = "Back" }))
{
    @Html.AntiForgeryToken()
}

@{
    var negro = "#1f1f27";
    var gris = "rgba(0, 0, 0, 0.1)";
    var fondo = "#EBEBEB";
}

<style>
    body {
        background-color: @fondo;
    }

    textarea {
        max-width: 100% !important;
        resize: none;
    }

    input {
        max-width: 100% !important;
    }

    .icono {
        font-family: 'Font Awesome\ 5 Free';
        font-weight: 900;
    }
</style>

<input id="vistaId" value="@Model.View.Id" hidden />
<input id="vistaName" value="@Model.View.Name" hidden />

<input id="modalTitle" value="@Model.HelpModal.Title" hidden />
<input id="modalViewInfo" value="@Model.HelpModal.ViewInfo" hidden />
<input id="modalNotes" value="@Model.HelpModal.Notes" hidden />

<input id="iconos" value="@Model.Icons" hidden />

<div id="ElDiv" style="display: flex; flex-direction: column; color: @negro; cursor: default;">

    <div style="display: flex; flex-direction: row">
        <div class="text-shadow titulo1">
            AYUDA DE <b>@Model.View.Name</b>
        </div>

        <div class="pl-4" style="display: flex">
            <button type="button" class="btn btn-One align-self-center" onclick="GuardarInfoModal()" style="width: 80px;">Guardar</button>
        </div>

        <div style="flex: 1"></div>

        <div class="align-self-center">
            <a style="color:black;cursor:pointer;" title="Volver a la lista de módulos" onclick="back();"><i class="fa fa-undo fa-2x" aria-hidden="true"></i></a>
        </div>

    </div>
    <div>
        <hr>
    </div>
    <div style="display: flex; flex: 1;">

        <div style="display: flex; flex-direction: column; flex: 1; height: 64vh; border-right: solid 1px @gris;">

            <div class="p-2" style="display: flex; flex-direction: row;">
                <div class="titulo3">
                    T&iacute;tulo
                </div>
                <input id="newModalTitle" type="text" class="ml-2" style="flex: 1;" value="@Model.HelpModal.Title" />
            </div>

            <div class="px-2 pb-2" style="display: flex; flex-direction: column; flex: 2;">
                <div class="titulo3">
                    Informaci&oacute;n de la p&aacute;gina
                </div>

                <div style="height: 100%;">
                    <textarea id="newModalViewInfo" style="width: 100%; height: 100%;" maxlength="3999">@Model.HelpModal.ViewInfo</textarea>
                </div>
            </div>

            <div class="px-2 pb-2" style="display: flex; flex-direction: column; flex: 1;">
                <div class="titulo3">
                    Notas
                </div>

                <div style="height: 100%;">
                    <textarea id="newModalNotes" style="width: 100%; height: 100%;" maxlength="3999">@Model.HelpModal.Notes</textarea>
                </div>
            </div>

        </div>

        <div class="px-2" style="display: flex; flex-direction: column; flex: 1; height: 64vh">

            <div style="display: flex; flex-direction: row;">

                <div class="titulo3 align-self-center">
                    Iconos
                </div>

                <div class="mb-2 ml-2 align-self-center" style="">
                    <select id="desplegableIconos" class="form-control fa">
                        @for (int i = 0; i < Model.Icons.Count(); i++)
                        {
                            <option class="fa">@Html.Raw(Model.Icons[i].Code) &nbsp; @Model.Icons[i].Name</option>
                        }
                    </select>
                    @*<div class="tablaIconos p-2" style="display: flex; flex-direction: column; flex-grow: 0; height: 100%; overflow-x: scroll;">
                        <div id="iconosFila1" style="display: flex; flex-direction: row; flex: 1;">
                            @for (int i = 0; i < Model.Icons.Count(); i++)
                            {
                                <div style="width: 39px; height: 100%; align-content: center; display: flex;">
                                    <i class="@Model.Icons[i].Code m-auto fas fa-lg" style="cursor: pointer; color: @negro;" onclick="InsertarIcono(this)"></i>
                                </div>
                            }
                        </div>
                        <div id="iconosFila2" style="display: flex; flex-direction: row; flex: 1;">
                            @for (int i = 0; i < Model.Icons.Count(); i++)
                            {
                                if (i % 2 != 0)
                                {
                                    <div style="width: 39px; height: 100%; align-content: center; display: flex;">
                                        <i class="@Model.Icons[i].Code m-auto fas fa-lg" style="cursor: pointer; color: @negro;" onclick="InsertarIcono(this)"></i>
                                    </div>
                                }
                            }
                        </div>
                    </div>*@
                </div>

                <div class="align-self-center px-2">
                    <i class="fas fa-plus fa-1x" href="#" data-toggle="modal" style="cursor:pointer;" data-target="#modalNuevoIcono" title="Añadir Icono"></i>
                </div>

            </div>

            <div style="display: flex; flex-direction: column; flex: 1">
                <div class="mb-2" style="display: flex; flex-direction: column; flex: 1">
                    <div class="titulo3">
                        Informaci&oacute;n de Iconos
                    </div>
                    <div style="flex: 1;">
                        <textarea id="newModalIconsInfo" style="width: 100%; height: 100%;" maxlength="3999"></textarea>
                    </div>
                </div>
                <div style="flex:1">

                </div>
            </div>

        </div>

    </div>

</div>

<!-- Modal Añadir Icono -->
<div class="modal fade" id="modalNuevoIcono" tabindex="-1" role="dialog" aria-labelledby="AddIcon" aria-hidden="true" style="position: fixed; top: 0; left: 0; ">
    <div class="modal-dialog modal-dialog-centered my-0" role="document" style="height: 100%;">
        <div class="modal-content" style="background-color: #1f1f27; color: #DFDFDF;">
            <div class="modal-body p-4" style="display: flex; flex-direction: column; min-height: 254px">
                <div style="display: flex; flex-direction: row; height: min-content">
                    <p class="m-0" style="font-size: 32px; font-weight: 100">
                        A&ntilde;adir nuevo icono
                    </p>
                    <div style="flex: 1"></div>
                    <div class="align-self-start" style="display: flex; align-content: center">
                        <i class="fas fa-times" style="cursor: pointer;" title="Cerrar" data-dismiss="modal" aria-label="Close" onclick="CerrarModalIconos()"></i>
                    </div>
                </div>

                <div class="py-2" style="flex: 1; display: flex; flex-direction: row;">

                    <div style="flex: 1; display: flex;">

                        <div class="m-auto" style="display: flex; flex-direction: column;">
                            <div class="titulo4">
                                Nombre
                            </div>
                            <div class="my-2" style="display: flex; flex-direction: row;">
                                <input id="nuevoNombre" type="text" style="flex: 1;" />
                            </div>
                            <div class="titulo4">
                                C&oacute;digo UNICODE
                            </div>
                            <div class="my-2" style="display: flex; flex-direction: row;">
                                <input id="nuevoCodigoInput" type="text" style="flex: 1;" />
                                <input id="nuevoCodigo" hidden />
                            </div>
                            <div class="align-self-center">
                                <button type="button" class="btn buttonSecondary" style="width: 80px;" onclick="PreviewIcono()">Preview</button>
                            </div>
                        </div>

                    </div>

                    <div class="p-2 m-auto" style="flex: 1; display: flex; flex-direction: column; height: 100%;">
                        <i id="nuevoIcono" class="fas fa-5x align-self-center"></i>
                    </div>

                </div>

                <div style="display: flex; flex-direction: row">
                    <div style="flex: 1"></div>
                    <button type="button" id="botonGuardarIcono" class="btn buttonCreate mr-4 align-self-end" style="width: 80px; display: none;" onclick="GuardarIcono()" data-dismiss="modal">Guardar</button>
                    <button type="button" class="btn btn-secondary align-self-end" style="width: 80px;" data-dismiss="modal" onclick="CerrarModalIconos()">Cancelar</button>
                </div>
            </div>
        </div>
    </div>
</div>